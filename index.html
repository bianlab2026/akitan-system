<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>2026 Calendar Feb-Aug</title>
<style>
  body {
    margin:0;
    padding:0;
    font-family: system-ui, sans-serif;
    background: #44CAD1;
  }

  h1 {
    text-align: center;
    margin: 12px 0 4px 0;
    font-size: 22px;
    letter-spacing: 1px;
    color: #fff;
  }

  /* æœˆãƒ©ãƒ™ãƒ«å›ºå®š */
  .month-label-container {
    position: sticky;
    top: 50px; /* ã‚¿ã‚¤ãƒˆãƒ«ä¸‹ã«å›ºå®š */
    background: #44CAD1;
    z-index: 20;
    text-align: center;
    font-size: 20px;
    font-weight: bold;
    color: #fff;
    padding: 4px 0;
  }

  /* æ›œæ—¥å›ºå®š */
  .weekday-row {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    position: sticky;
    top: 80px; /* æœˆãƒ©ãƒ™ãƒ«ä¸‹ */
    background: #000;
    z-index: 10;
  }

  .weekday {
    text-align: center;
    font-weight: bold;
    padding: 12px 0;
    color: #fff;
    font-size: 18px;
    border-bottom: 1px solid #333;
  }

  .calendar {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 2px;
    width: 100%;
  }

  .cell {
    background: #fff;
    border-radius: 8px;
    text-align: center;
    position: relative;
    aspect-ratio: 1 / 1.6; /* ç¸¦é•· */
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    font-size: 16px;
    padding: 6px 4px;
  }

  /* åœŸæ—¥è‰² */
  .cell.sat { background: #d3d3d3; }
  .cell.sun { background: #d3d3d3; }

  /* ç¥æ—¥ */
  .cell.holiday { background: #fff2cc; }

  /* today */
  .today {
    border: 3px solid #ff0000;
    box-shadow: 0 0 16px rgba(255,0,0,0.9);
    transform: scale(1.07);
    z-index: 5;
  }

  .date { font-weight: bold; margin-bottom: 4px; font-size: 18px; }
  .mark { font-size: 18px; margin-bottom: 2px; }
  .work { font-size: 14px; opacity: 0.85; }
  .stamp { font-size: 24px; position: absolute; bottom: 4px; right: 4px; }
</style>
</head>
<body>

<h1>ğŸ¶2026 Calendar ğŸ’‰</h1>
<div class="month-label-container" id="month-label">2æœˆ</div>

<div class="weekday-row">
  <div class="weekday">Mon</div>
  <div class="weekday">Tue</div>
  <div class="weekday">Wed</div>
  <div class="weekday">Thu</div>
  <div class="weekday">Fri</div>
  <div class="weekday">Sat</div>
  <div class="weekday">Sun</div>
</div>

<div id="calendar" class="calendar"></div>

<script>
const year = 2026;
const calendarDiv = document.getElementById('calendar');
const monthLabelDiv = document.getElementById('month-label');

// æœˆã”ã¨ã®æ—¥æ•°ãƒ»ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«
const monthData = {
  2: { days:28, schedule:{1:'æ—¥å‹¤',2:'æ—¥å‹¤',3:'ç ”ä¿®',4:'å¤œå‹¤å…¥ã‚Š',5:'ä¼‘ã¿',6:'ä¼‘ã¿',7:'æ—¥å‹¤',8:'æ—¥å‹¤',9:'ä¼‘ã¿',10:'ä¼‘ã¿',11:'æ—¥å‹¤',12:'å¤œå‹¤å…¥ã‚Š',13:'å¤œå‹¤å…¥ã‚Š',14:'æ—¥å‹¤',15:'æ—¥å‹¤',16:'æ—¥å‹¤',17:'æ—¥å‹¤',18:'æ—¥å‹¤',19:'ä¼‘ã¿',20:'ä¼‘ã¿',21:'æ—¥å‹¤'} },
  3: { days:31, schedule:{} },
  4: { days:30, schedule:{} },
  5: { days:31, schedule:{} },
  6: { days:30, schedule:{} },
  7: { days:31, schedule:{} },
  8: { days:31, schedule:{} }
};

// ã‚¹ã‚¿ãƒ³ãƒ— ğŸ’šğŸ’™ğŸ’–
const stamps = {
  2:{1:'ğŸ’š',2:'ğŸ’š',5:'ğŸ’™',6:'ğŸ’™',14:'ğŸ’–'},
  3:{},4:{},5:{},6:{},7:{},8:{}
};

// ç°¡æ˜“ç¥æ—¥
const holidays = {2:[11],3:[],4:[],5:[],6:[],7:[],8:[]};

function judge(day, schedule){
  const today = schedule[day];
  const next = schedule[day+1];
  if(!today) return '';
  if((today==='å¤œå‹¤å…¥ã‚Š' && next)||(next==='ä¼‘ã¿')||(next==='ç ”ä¿®')) return 'â—‹';
  if(next==='æ—¥å‹¤'||next==='å¤œå‹¤å…¥ã‚Š') return 'Ã—';
  return '';
}

let firstTodayCell = null;
const monthCells = []; // æœˆã”ã¨ã®æœ€åˆã®ã‚»ãƒ«è¨˜éŒ²

for(const monthNum in monthData){
  const month = monthData[monthNum];
  const firstDay = new Date(year, monthNum-1,1).getDay();
  const startDay = (firstDay+6)%7; // æœˆæ›œå§‹ã¾ã‚Š

  for(let day=1; day<=month.days; day++){
    const cell = document.createElement('div');
    cell.className='cell';

    const weekdayIndex = (startDay+day-1)%7;
    if(weekdayIndex===5) cell.classList.add('sat');
    if(weekdayIndex===6) cell.classList.add('sun');
    if(holidays[monthNum] && holidays[monthNum].includes(day)) cell.classList.add('holiday');

    const mark = judge(day, month.schedule);
    const work = month.schedule[day] || '';

    const now = new Date();
    const isToday = now.getFullYear()===year && now.getMonth()===(monthNum-1) && now.getDate()===day;
    if(isToday){
      cell.classList.add('today');
      if(!firstTodayCell) firstTodayCell = cell;
    }

    cell.innerHTML=`
      <div class="date">${day}</div>
      <div class="mark ${mark==='â—‹'?'circle':'cross'}">${mark}</div>
      <div class="work">${work}</div>
      ${stamps[monthNum] && stamps[monthNum][day]?`<div class="stamp">${stamps[monthNum][day]}</div>`:''}
    `;

    calendarDiv.appendChild(cell);

    // æœˆæœ€åˆã®ã‚»ãƒ«è¨˜éŒ²
    if(day===1) monthCells.push({month: monthNum, cell});
  }
}

// IntersectionObserverã§æœˆãƒ©ãƒ™ãƒ«åˆ‡æ›¿
const observerOptions = {root:null, rootMargin:'0px', threshold:0.1};
const observer = new IntersectionObserver((entries)=>{
  entries.forEach(entry=>{
    if(entry.isIntersecting){
      monthLabelDiv.textContent = `${entry.target.dataset.month}æœˆ`;
    }
  });
}, observerOptions);

monthCells.forEach(item=>{
  item.cell.dataset.month = item.month;
  observer.observe(item.cell);
});

// ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«todayãŒä¸­å¤®ã«æ¥ã‚‹ã‚ˆã†ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
window.onload = function(){
  if(firstTodayCell){
    const y = firstTodayCell.getBoundingClientRect().top + window.scrollY - window.innerHeight/2 + firstTodayCell.offsetHeight/2;
    window.scrollTo({top:y, behavior:'smooth'});
  }
};
</script>

</body>
</html>
