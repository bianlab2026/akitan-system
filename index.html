<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>2026 Calendar Feb-Aug</title>
<style>
  body {
    margin:0;
    font-family: system-ui, sans-serif;
    background: #44CAD1;
  }

  h1 {
    text-align: center;
    margin: 8px 0 4px;
    color: #fff;
    font-size: 22px;
    letter-spacing: 1px;
  }

  .month-label-container {
    position: sticky;
    top: 50px;
    background: #44CAD1;
    z-index: 20;
    text-align: center;
    font-size: 20px;
    font-weight: bold;
    color: #fff;
    padding: 4px 0;
  }

  .month-container {
    margin-bottom: 16px;
  }

  .calendar {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 2px;
    width: 100%;
  }

  .cell {
    background: #fff;
    border-radius: 8px;
    text-align: center;
    position: relative;
    aspect-ratio: 1 / 1.6;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    font-size: 16px;
    padding: 6px 4px;
  }

  .weekday {
    position: sticky;
    top: 0;
    background: #000;
    color: #fff;
    font-weight: bold;
    z-index: 10;
    border-bottom: 1px solid #333;
    font-size: 18px;
  }

  .cell.sat { background: #d3d3d3; }
  .cell.sun { background: #d3d3d3; }
  .cell.holiday { background: #fff2cc; }

  .today {
    border: 3px solid #ff0000;
    box-shadow: 0 0 16px rgba(255,0,0,0.9);
    transform: scale(1.07);
    z-index: 5;
  }

  .date { font-weight: bold; margin-bottom: 4px; font-size: 18px; }
  .mark { font-size: 18px; margin-bottom: 2px; }
  .work { font-size: 14px; opacity: 0.85; }
  .stamp { font-size: 24px; position: absolute; bottom: 4px; right: 4px; }
</style>
</head>
<body>

<h1>üê∂2026 Calendar üíâ</h1>
<div class="month-label-container" id="month-label">2Êúà</div>
<div id="calendar"></div>

<script>
const year = 2026;
const calendarDiv = document.getElementById('calendar');
const monthLabelDiv = document.getElementById('month-label');

const monthData = {
  2: { days:28, schedule:{1:'Êó•Âã§',2:'Êó•Âã§',3:'Á†î‰øÆ',4:'Â§úÂã§ÂÖ•„Çä',5:'‰ºë„Åø',6:'‰ºë„Åø',7:'Êó•Âã§',8:'Êó•Âã§',9:'‰ºë„Åø',10:'‰ºë„Åø',11:'Êó•Âã§',12:'Â§úÂã§ÂÖ•„Çä',13:'Â§úÂã§ÂÖ•„Çä',14:'Êó•Âã§',15:'Êó•Âã§',16:'Êó•Âã§',17:'Êó•Âã§',18:'Êó•Âã§',19:'‰ºë„Åø',20:'‰ºë„Åø',21:'Êó•Âã§'} },
  3: { days:31, schedule:{} },
  4: { days:30, schedule:{} },
  5: { days:31, schedule:{} },
  6: { days:30, schedule:{} },
  7: { days:31, schedule:{} },
  8: { days:31, schedule:{} }
};

const stamps = {
  2:{1:'üíö',2:'üíö',5:'üíô',6:'üíô',14:'üíñ'},
  3:{},4:{},5:{},6:{},7:{},8:{}
};

const holidays = {2:[11],3:[],4:[],5:[],6:[],7:[],8:[]};

function judge(day, schedule){
  const today = schedule[day];
  const next = schedule[day+1];
  if(!today) return '';
  if((today==='Â§úÂã§ÂÖ•„Çä' && next)||(next==='‰ºë„Åø')||(next==='Á†î‰øÆ')) return '‚óã';
  if(next==='Êó•Âã§'||next==='Â§úÂã§ÂÖ•„Çä') return '√ó';
  return '';
}

let firstTodayCell = null;
const monthCells = [];

for(const monthNum in monthData){
  const month = monthData[monthNum];
  const monthContainer = document.createElement('div');
  monthContainer.className='month-container';

  const calendarGrid = document.createElement('div');
  calendarGrid.className='calendar';

  // ÊõúÊó•Ë°å„ÇÇ„Çª„É´„Å®„Åó„Å¶ËøΩÂä†
  ['Mon','Tue','Wed','Thu','Fri','Sat','Sun'].forEach(d=>{
    const wd = document.createElement('div');
    wd.className='cell weekday';
    wd.textContent=d;
    calendarGrid.appendChild(wd);
  });

  const firstDay = new Date(year, monthNum-1,1).getDay();
  const startDay = (firstDay+6)%7;

  for(let i=0;i<startDay;i++){
    const emptyCell = document.createElement('div');
    emptyCell.className='cell';
    calendarGrid.appendChild(emptyCell);
  }

  for(let day=1;day<=month.days;day++){
    const cell = document.createElement('div');
    cell.className='cell';

    const weekdayIndex = (startDay+day-1)%7;
    if(weekdayIndex===5) cell.classList.add('sat');
    if(weekdayIndex===6) cell.classList.add('sun');
    if(holidays[monthNum] && holidays[monthNum].includes(day)) cell.classList.add('holiday');

    const mark = judge(day, month.schedule);
    const work = month.schedule[day] || '';

    const now = new Date();
    const isToday = now.getFullYear()===year && now.getMonth()===(monthNum-1) && now.getDate()===day;
    if(isToday){
      cell.classList.add('today');
      if(!firstTodayCell) firstTodayCell = cell;
    }

    cell.innerHTML=`
      <div class="date">${day}</div>
      <div class="mark ${mark==='‚óã'?'circle':'cross'}">${mark}</div>
      <div class="work">${work}</div>
      ${stamps[monthNum] && stamps[monthNum][day]?`<div class="stamp">${stamps[monthNum][day]}</div>`:''}
    `;

    calendarGrid.appendChild(cell);

    if(day===1) monthCells.push({month: monthNum, cell});
  }

  monthContainer.appendChild(calendarGrid);
  calendarDiv.appendChild(monthContainer);
}

// IntersectionObserver„ÅßÊúà„É©„Éô„É´ÂàáÊõø
const observer = new IntersectionObserver((entries)=>{
  entries.forEach(entry=>{
    if(entry.isIntersecting){
      monthLabelDiv.textContent = `${entry.target.dataset.month}Êúà`;
    }
  });
},{root:null, rootMargin:'0px', threshold:0.2});

monthCells.forEach(item=>{
  item.cell.dataset.month = item.month;
  observer.observe(item.cell);
});

// „Éö„Éº„Ç∏Ë™≠„ÅøËæº„ÅøÊôÇ„Å´today„Åå‰∏≠Â§Æ„Å´Êù•„Çã„Çà„ÅÜ„Çπ„ÇØ„É≠„Éº„É´
window.onload = function(){
  if(firstTodayCell){
    const y = firstTodayCell.getBoundingClientRect().top + window.scrollY - window.innerHeight/2 + firstTodayCell.offsetHeight/2;
    window.scrollTo({top:y, behavior:'smooth'});
  }
};
</script>
</body>
</html>
